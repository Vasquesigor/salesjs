{"version":3,"sources":["node_modules/browser-pack/_prelude.js","lib/api/apex.js","jsforce-api-apex.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","jsforce","modules","api","Apex","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","conn","_conn","prototype","_baseUrl","instanceUrl","_createRequestParams","method","path","body","options","params","url","_headers","test","headers","contentType","JSON","stringify","get","callback","undefined","request","thenCall","post","put","patch","del","on","apex"],"mappings":"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","file":"jsforce-api-apex.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/**\n * @file Manages Salesforce Apex REST endpoint calls\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\n\n'use strict';\n\nvar jsforce = window.jsforce.require('./core');\n\n/**\n * API class for Apex REST endpoint call\n *\n * @class\n * @param {Connection} conn Connection\n */\nvar Apex = function(conn) {\n  this._conn = conn;\n};\n\n/**\n * @private\n */\nApex.prototype._baseUrl = function() {\n  return this._conn.instanceUrl + \"/services/apexrest\";\n};\n\n/**\n * @private\n */\nApex.prototype._createRequestParams = function(method, path, body, options) {\n  var params = {\n    method: method,\n    url: this._baseUrl() + path\n  },\n  _headers = {};\n  if(options && 'object' === typeof options['headers']){\n    _headers = options['headers'];\n  }\n  if (!/^(GET|DELETE)$/i.test(method)) {\n    _headers[\"Content-Type\"] = \"application/json\";\n  }\n  params.headers = _headers;\n  if (body) {\n    var contentType = params.headers[\"Content-Type\"];\n    if (!contentType || contentType === \"application/json\") {\n      params.body = JSON.stringify(body);\n    } else {\n      params.body = body;\n    }\n  }\n  return params;\n};\n\n/**\n * Call Apex REST service in GET request\n *\n * @param {String} path - URL path to Apex REST service\n * @param {Object} options - Holds headers and other meta data for the request.\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nApex.prototype.get = function(path, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = undefined;\n  }\n  return this._conn.request(this._createRequestParams('GET', path, undefined, options)).thenCall(callback);\n};\n\n/**\n * Call Apex REST service in POST request\n *\n * @param {String} path - URL path to Apex REST service\n * @param {Object} [body] - Request body\n * @param {Object} options - Holds headers and other meta data for the request.\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nApex.prototype.post = function(path, body, options, callback) {\n  if (typeof body === 'function') {\n    callback = body;\n    body = undefined;\n    options = undefined;\n  }\n  if (typeof options === 'function') {\n    callback = options;\n    options = undefined;\n  }\n  var params = this._createRequestParams('POST', path, body, options);\n  return this._conn.request(params).thenCall(callback);\n};\n\n/**\n * Call Apex REST service in PUT request\n *\n * @param {String} path - URL path to Apex REST service\n * @param {Object} [body] - Request body\n * @param {Object} [options] - Holds headers and other meta data for the request.\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nApex.prototype.put = function(path, body, options, callback) {\n  if (typeof body === 'function') {\n    callback = body;\n    body = undefined;\n    options = undefined;\n  }\n  if (typeof options === 'function') {\n    callback = options;\n    options = undefined;\n  }\n  var params = this._createRequestParams('PUT', path, body, options);\n  return this._conn.request(params).thenCall(callback);\n};\n\n/**\n * Call Apex REST service in PATCH request\n *\n * @param {String} path - URL path to Apex REST service\n * @param {Object} [body] - Request body\n * @param {Object} [options] - Holds headers and other meta data for the request.\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nApex.prototype.patch = function(path, body, options, callback) {\n  if (typeof body === 'function') {\n    callback = body;\n    body = undefined;\n    options = undefined;\n  }\n  if (typeof options === 'function') {\n    callback = options;\n    options = undefined;\n  }\n  var params = this._createRequestParams('PATCH', path, body, options);\n  return this._conn.request(params).thenCall(callback);\n};\n\n/**\n * Synonym of Apex#delete()\n *\n * @method Apex#del\n *\n * @param {String} path - URL path to Apex REST service\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\n/**\n * Call Apex REST service in DELETE request\n *\n * @method Apex#delete\n *\n * @param {String} path - URL path to Apex REST service\n * @param {Object} [options] - Holds headers and other meta data for the request.\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nApex.prototype.del =\n  Apex.prototype[\"delete\"] = function(path, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = undefined;\n  }\n  return this._conn.request(this._createRequestParams('DELETE', path, undefined, options)).thenCall(callback);\n};\n\n\n/*--------------------------------------------*/\n/*\n * Register hook in connection instantiation for dynamically adding this API module features\n */\njsforce.on('connection:new', function(conn) {\n  conn.apex = new Apex(conn);\n});\n\n\nmodule.exports = Apex;\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;(t=(t=(t=(t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).jsforce||(t.jsforce={})).modules||(t.modules={})).api||(t.api={})).Apex=e()}}((function(){return function e(t,n,o){function r(u,f){if(!n[u]){if(!t[u]){var s=\"function\"==typeof require&&require;if(!f&&s)return s(u,!0);if(i)return i(u,!0);var a=new Error(\"Cannot find module '\"+u+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var c=n[u]={exports:{}};t[u][0].call(c.exports,(function(e){return r(t[u][1][e]||e)}),c,c.exports,e,t,n,o)}return n[u].exports}for(var i=\"function\"==typeof require&&require,u=0;u<o.length;u++)r(o[u]);return r}({1:[function(e,t,n){\"use strict\";var o=window.jsforce.require(\"./core\"),r=function(e){this._conn=e};r.prototype._baseUrl=function(){return this._conn.instanceUrl+\"/services/apexrest\"},r.prototype._createRequestParams=function(e,t,n,o){var r={method:e,url:this._baseUrl()+t},i={};if(o&&\"object\"==typeof o.headers&&(i=o.headers),/^(GET|DELETE)$/i.test(e)||(i[\"Content-Type\"]=\"application/json\"),r.headers=i,n){var u=r.headers[\"Content-Type\"];r.body=u&&\"application/json\"!==u?n:JSON.stringify(n)}return r},r.prototype.get=function(e,t,n){return\"function\"==typeof t&&(n=t,t=void 0),this._conn.request(this._createRequestParams(\"GET\",e,void 0,t)).thenCall(n)},r.prototype.post=function(e,t,n,o){\"function\"==typeof t&&(o=t,t=void 0,n=void 0),\"function\"==typeof n&&(o=n,n=void 0);var r=this._createRequestParams(\"POST\",e,t,n);return this._conn.request(r).thenCall(o)},r.prototype.put=function(e,t,n,o){\"function\"==typeof t&&(o=t,t=void 0,n=void 0),\"function\"==typeof n&&(o=n,n=void 0);var r=this._createRequestParams(\"PUT\",e,t,n);return this._conn.request(r).thenCall(o)},r.prototype.patch=function(e,t,n,o){\"function\"==typeof t&&(o=t,t=void 0,n=void 0),\"function\"==typeof n&&(o=n,n=void 0);var r=this._createRequestParams(\"PATCH\",e,t,n);return this._conn.request(r).thenCall(o)},r.prototype.del=r.prototype.delete=function(e,t,n){return\"function\"==typeof t&&(n=t,t=void 0),this._conn.request(this._createRequestParams(\"DELETE\",e,void 0,t)).thenCall(n)},o.on(\"connection:new\",(function(e){e.apex=new r(e)})),t.exports=r},{}]},{},[1])(1)}));\n//# sourceMappingURL=jsforce-api-apex.min.js.map\n"]}